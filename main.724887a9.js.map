{"version":3,"sources":["scripts/main.js"],"names":["tableHeader","document","querySelector","tableBody","form","createElement","clickColumn","editingTd","pushNotification","title","description","type","message","className","innerHTML","dataset","qa","body","append","style","top","documentElement","clientHeight","window","pageYOffset","right","clientWidth","pageXOffset","setTimeout","remove","sortTable","e","th","target","closest","rows","cellIndex","reverse","textContent","sort","trA","trB","formatSalary","cells","localeCompare","forEach","tr","salary","split","filter","item","includes","join","selectRow","row","classList","add","saveToTable","preventDefault","newRow","nameValue","value","trim","position","office","age","inputs","querySelectorAll","length","toLocaleString","firstElementChild","selected","editCell","td","valueTd","focus","onblur","inputValue","onkeydown","eventKeydown","key","blur","after","addEventListener"],"mappings":"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","file":"main.724887a9.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tableHeader = document.querySelector('thead');\nconst tableBody = document.querySelector('tbody');\nconst form = document.createElement('form');\nlet clickColumn = null;\nlet editingTd = false;\n\nconst pushNotification = (title, description, type) => {\n  const message = document.createElement('div');\n\n  message.className = `notification ${type}`;\n\n  message.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n    <p>${description}</p>\n  `;\n  message.dataset.qa = 'notification';\n\n  document.body.append(message);\n\n  message.style.top = (document.documentElement.clientHeight\n    - message.clientHeight) / 2 + window.pageYOffset + 'px';\n\n  message.style.right = (document.documentElement.clientWidth\n    - message.clientWidth) / 2 + window.pageXOffset + 'px';\n  setTimeout(() => message.remove(), 2000);\n};\n\nfunction sortTable(e) {\n  const th = e.target.closest('th');\n\n  if (!th) {\n    return;\n  }\n\n  const rows = [...tableBody.rows];\n\n  if (clickColumn === th.cellIndex) {\n    rows.reverse();\n\n    clickColumn = null;\n  } else {\n    if (th.textContent === 'Salary') {\n      rows.sort((trA, trB) =>\n        formatSalary(trA.cells[th.cellIndex].textContent)\n        - (formatSalary(trB.cells[th.cellIndex].textContent)));\n    } else {\n      rows.sort((trA, trB) => trA.cells[th.cellIndex].textContent\n        .localeCompare(trB.cells[th.cellIndex].textContent));\n    }\n\n    clickColumn = th.cellIndex;\n  }\n\n  rows.forEach(tr => tableBody.append(tr));\n}\n\nfunction formatSalary(salary) {\n  return +salary.split('').filter(item =>\n    '0123456789'.includes(item)).join('');\n}\n\nfunction selectRow(e) {\n  const row = e.target.closest('tr');\n\n  if (!row) {\n    return;\n  }\n\n  [...tableBody.rows].forEach(tr =>\n    (tr === row) ? tr.classList.add('active') : tr.classList.remove('active'));\n}\n\nfunction saveToTable(e) {\n  e.preventDefault();\n\n  const newRow = document.createElement('tr');\n  const nameValue = form.querySelector('[name=\"name\"]').value.trim();\n  const position = form.querySelector('[name=\"position\"]').value.trim();\n  const office = form.querySelector('[name=\"office\"]').value;\n  const age = form.querySelector('[name=\"age\"]').value;\n  const salary = form.querySelector('[name=\"salary\"]').value;\n  const inputs = form.querySelectorAll('input');\n\n  if (!nameValue || !position || !office || !age || !salary) {\n    pushNotification('Input error',\n      'All fields are required.', 'error');\n\n    return;\n  }\n\n  if (nameValue.length < 4) {\n    pushNotification('Input error',\n      'Name has less than 4 letters.', 'error');\n\n    return;\n  }\n\n  if (age < 18 || age > 90) {\n    pushNotification('Input error',\n      'Age is less than 18 or more than 90.', 'error');\n\n    return;\n  }\n\n  newRow.innerHTML = `\n    <td>${nameValue}</td>\n    <td>${position}</td>\n    <td>${office}</td>\n    <td>${age}</td>\n    <td>${'$' + (+salary).toLocaleString('en-US')}</td>\n  `;\n\n  tableBody.append(newRow);\n  form.querySelector('[name=\"office\"]').firstElementChild.selected = true;\n\n  for (const input of inputs) {\n    input.value = '';\n  }\n\n  pushNotification('New employee added',\n    'Data has been successfully added to the table.', 'success');\n}\n\nfunction editCell(e) {\n  const td = e.target.closest('td');\n\n  if (!td || editingTd) {\n    return;\n  }\n\n  editingTd = true;\n\n  const valueTd = td.textContent;\n\n  td.innerHTML = `\n    <input type=\"text\" value=\"${valueTd}\" class=\"cell-input\">\n  `;\n  td.firstElementChild.focus();\n\n  td.firstElementChild.onblur = () => {\n    const inputValue = td.firstElementChild.value.trim();\n\n    td.firstElementChild.remove();\n\n    if (!inputValue.length) {\n      td.textContent = valueTd;\n    } else {\n      td.textContent = inputValue;\n    }\n\n    editingTd = false;\n  };\n\n  td.firstElementChild.onkeydown = (eventKeydown) => {\n    if (eventKeydown.key === 'Enter') {\n      td.firstElementChild.blur();\n    }\n  };\n}\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n  <label>\n    Name:\n    <input name=\"name\" type=\"text\" data-qa=\"name\">\n  </label>\n  <label>\n    Position:\n    <input name=\"position\" type=\"text\" data-qa=\"position\">\n  </label>\n  <label>\n    Office:\n    <select name=\"office\" data-qa=\"office\">\n      <option value=\"\" disabled selected>Ð¡hoose an office</option>\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>\n    Age:\n    <input name=\"age\" type=\"number\" data-qa=\"age\">\n  </label>\n  <label>\n    Salary:\n    <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n  </label>\n  <button type=\"submit\">Save to table</button>\n`;\ndocument.querySelector('table').after(form);\n\ntableHeader.addEventListener('click', sortTable);\ntableBody.addEventListener('click', selectRow);\nform.addEventListener('submit', saveToTable);\ntableBody.addEventListener('dblclick', editCell);\n"]}